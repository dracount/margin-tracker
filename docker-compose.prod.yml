# Standalone Margin Tracker for Oracle Cloud
# Uses existing Caddy from main stack for routing
#
# Usage: docker compose -f docker-compose.prod.yml up -d --build

services:
  margin_pocketbase:
    image: adrianmusante/pocketbase:latest
    container_name: margin_pocketbase
    restart: unless-stopped
    volumes:
      - margin_pocketbase_data:/pocketbase

  margin_frontend:
    build:
      context: .
      args:
        VITE_PB_URL: /api
    container_name: margin_frontend
    restart: unless-stopped

volumes:
  margin_pocketbase_data:

networks:
  default:
    name: my-automation-stack_default
    external: true
